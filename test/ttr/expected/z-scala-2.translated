#!/bin/sh
if [ -z "$WORKING_DIR" ]; then
    if [ -z "$UID" ]; then
        UID=`id -u`
    fi
    if [ -d /run/user/$UID ]; then
        export WORKING_DIR=`mktemp -d -p /run/user/$UID`
    elif [ -d /dev/shm ]; then
        export WORKING_DIR=`mktemp -d -p /dev/shm`
    else
        export WORKING_DIR=`mktemp -d`
    fi
else
    export WORKING_DIR=$WORKING_DIR/working-$$
    mkdir $WORKING_DIR
fi
export HARD_WORKING_DIR=
export PERM_WORKING_DIR=
trap ":" 2 3 15
(

################################################################################
# file-ef24aa76656ff093394aa3a6581556ba
mkdir -p $HOME/.ttr
if [ -e $HOME/.ttr/file-ef24aa76656ff093394aa3a6581556ba ]; then
    touch $HOME/.ttr/file-ef24aa76656ff093394aa3a6581556ba
else
base64 -d <<EOF_ef24aa76656ff093394aa3a6581556ba > $HOME/.ttr/file-ef24aa76656ff093394aa3a6581556ba
UEsDBBQACAgIAAAAXUMAAAAAAAAAAAAAAAALAAQATWFpbiQuY2xhc3P+ygAAbZDLTsJAFIb/4VZa
qiAI3u+YIAuJugTdeImLIiYoG1dDGXFIKaQU30tNJNHEB/ChjGcKkWhsMnPu3/k7n19vHwAOscsQ
rXLp5jUwhlSHP/KSw912qdbsCNvXEGYwB7Yn+/7+wOYOZ9CqtbNb6zxPnhWMlhniFduRrvRPGMKF
vQZDrBKEJgzoBkJIMES61MyQK9xZ0zV135Nuu6xGZgJ+6doTLXFPepIMSetXrmwihjkdKaRJ9qVw
nF4c86SjTxDfIXi2YP39BWKbyGHBoLFFUuE/yAEZ7rXJZP7RYiCChNqk6SR8nXpPey3BkLZ6JKbB
PcmbjrhRl1IoXXE17DaFN8kY9d7Qs8WFVEG0rvTjgEARem+GJcUlLwwdcToMmxRlyKpPe0doBPMp
COhFMDtpOCZAiKz+jEw6+4ol1RLCFt25cQHLAVd5K1ilsW3yYwFXjRo/u47IqqxeHGGt+IKNKcoc
FyaoKYBRfSfoiiKvdnwDUEsHCIioTbFxAQAAPwIAAFBLAwQUAAgICAAAAF1DAAAAAAAAAAAAAAAA
CgAAAE1haW4uY2xhc3NFUdFuElEQndndy+XCQrulC8GktWsxbUl0gwnWlvZhF2mthTQUwbSVhwtu
yRK6a3YXEx78KH3wwQc/wM/wQ4wDifEmk3POzMlMcu6vPz9+AsALKCFoHekHHBBhfSo/S3smg4l9
NZp644SDiqDH48j/lDyPx3ImEbbbK2JH3v2MLHZvqXr+JJDJPPIaCGy0SLwY4XcKzeOuhYpQTOFY
72rTYVXULEc7vXypvbEf72joGFK6XGHlA3SxhQVhdas39XBPHFkKU/StunDcJuZVs/zqWflwVBAL
x0XNHd5vDjqPWGp3yxJOC/niaVLKb++Yqul08UxjSp/ufaB714bc5UItDS8s5FwV/Zh8LFXvYE6e
I2u+PTlcayn60eLCstJczbLCvn1zarAvxth1UlZBiOYT1LpesfK+c8vUc2NDSrMR945P9lzHyFFk
2gOFh1Dcv2v/D6+XRH4waRwMKIxluBUOWQTeuXrdb7cqxNqrbkOHHOQF6LCmg4BMhphBK5vhRw8h
0wvn0dg782ckytfzIPEfvIEf+6OZ5wRBmMjEDwPKOf3vB6AGCmiwfEj7aCNhgdQm9ZEw/Q3Wq99h
4+vKo1IfaMLAJMySI0XFY0hDcTlmAH8BUEsHCIT+kCjSAQAAJwIAAFBLAQIUABQACAgIAAAAXUOI
qE2xcQEAAD8CAAALAAQAAAAAAAAAAAAAAAAAAABNYWluJC5jbGFzc/7KAABQSwECFAAUAAgICAAA
AF1DhP6QKNIBAAAnAgAACgAAAAAAAAAAAAAAAACuAQAATWFpbi5jbGFzc1BLBQYAAAAAAgACAHUA
AAC4AwAAAAA=
EOF_ef24aa76656ff093394aa3a6581556ba
fi
if [ -e $HOME/.ttr/scala-jar-eba64e4ef2512ee48d0455695840977b.jar ]; then
    touch $HOME/.ttr/scala-jar-eba64e4ef2512ee48d0455695840977b.jar
else
    ln -s $HOME/.ttr/file-ef24aa76656ff093394aa3a6581556ba $HOME/.ttr/scala-jar-eba64e4ef2512ee48d0455695840977b.jar
fi

################################################################################
# test.sh
mkdir -p $HOME/.ttr
if [ -e $HOME/.ttr/file-a2903663190dbeb98c90dcfdf4e22383 ]; then
    touch $HOME/.ttr/file-a2903663190dbeb98c90dcfdf4e22383
else
cat <<\EOF_a2903663190dbeb98c90dcfdf4e22383 > $HOME/.ttr/file-a2903663190dbeb98c90dcfdf4e22383
scala -cp $HOME/.ttr/scala-jar-eba64e4ef2512ee48d0455695840977b.jar Main "$@"
EOF_a2903663190dbeb98c90dcfdf4e22383
fi
ln -f -s $HOME/.ttr/file-a2903663190dbeb98c90dcfdf4e22383 $WORKING_DIR/test.sh

################################################################################
# file-da72419155794e4d5c1d2905f303f30a
mkdir -p $HOME/.ttr
if [ -e $HOME/.ttr/file-da72419155794e4d5c1d2905f303f30a ]; then
    touch $HOME/.ttr/file-da72419155794e4d5c1d2905f303f30a
else
base64 -d <<EOF_da72419155794e4d5c1d2905f303f30a > $HOME/.ttr/file-da72419155794e4d5c1d2905f303f30a
UEsDBBQACAgIAAAAXUMAAAAAAAAAAAAAAAALAAQATWFpbiQuY2xhc3P+ygAAjVL7b9JQFP5ueRRK
dRMGvnVTnIXpcJuPKWgyX/GHTkxQErPE5FLusLO05FJM/LPUBKJLjD/7RxnPLUziRtQ27T3n3PN9
5/nj59dvANbxgCGxzV2/qIMxzO/x97zicb9Tqbf2hBPqiDGYfUe6vXC173CPM+jb9cev7CdFkuwI
WmVI1RzP9d2Q6GJWqcmQrEWqCQNpAxoyDPEuOTMUrB17GqYRStfvVBXkWMRfeSFFW+xSPnMMc/Yf
tqqJJE6kMY8sw/L4ygk8jxJ1A7/SHYS85YkJ58OB67WF1LFgIK/iJ58JzwsWUzhJMu/1hN9mqFn2
4ZqrJfv/qCmd0zij2M8y5HaOEuk4z5CRYndLSv6h3uszbFoz/P4S8ABJsS5i0aDSlxgYFXGZYemf
KB1XaDbdd+O0qWfWjNYfNZm4CiuDZZQIHQYH6AVrpu8KrqkeXKd96JEp9GjI+VltbZqo4IaqYY22
IXzrUj/iXHb6h7o3YTYQR0ZNXE/TAt0h30dBWzBk7YDqbnLpqlpfqp/aFNcXzwfdlpATi9EIBtIR
T12lJBqqVVgjojjtPaPBES9JMaSRoo/hLmk5OtWj70MbwfwYKbSZOD5xeENwjc7yJ+T2kX89QiF7
aohzpK58x4UhLmWLX1DWQLYhVodYVxwa7tG/MEZiIwqspJu4RbxVkpNRYI1e43cyG3Qqa7o8wu3y
Z2xOqczxxYRqSsDovhZ5JXBfxfgFUEsHCNhb5+ciAgAA6AMAAFBLAwQUAAgICAAAAF1DAAAAAAAA
AAAAAAAACgAAAE1haW4uY2xhc3NFUdFuElEQndndy+XCQrulC8GktWsxbUl0gwnWlvZhF2mthTQU
wbSVhwtuyRK6a3YXEx78KH3wwQc/wM/wQ4wDifEmk3POzMlMcu6vPz9+AsALKCFoHekHHBBhfSo/
S3smg4l9NZp644SDiqDH48j/lDyPx3ImEbbbK2JH3v2MLHZvqXr+JJDJPPIaCGy0SLwY4XcKzeOu
hYpQTOFY72rTYVXULEc7vXypvbEf72joGFK6XGHlA3SxhQVhdas39XBPHFkKU/StunDcJuZVs/zq
WflwVBALx0XNHd5vDjqPWGp3yxJOC/niaVLKb++Yqul08UxjSp/ufaB714bc5UItDS8s5FwV/Zh8
LFXvYE6eI2u+PTlcayn60eLCstJczbLCvn1zarAvxth1UlZBiOYT1LpesfK+c8vUc2NDSrMR945P
9lzHyFFk2gOFh1Dcv2v/D6+XRH4waRwMKIxluBUOWQTeuXrdb7cqxNqrbkOHHOQF6LCmg4BMhphB
K5vhRw8h0wvn0dg782ckytfzIPEfvIEf+6OZ5wRBmMjEDwPKOf3vB6AGCmiwfEj7aCNhgdQm9ZEw
/Q3Wq99h4+vKo1IfaMLAJMySI0XFY0hDcTlmAH8BUEsHCIT+kCjSAQAAJwIAAFBLAQIUABQACAgI
AAAAXUPYW+fnIgIAAOgDAAALAAQAAAAAAAAAAAAAAAAAAABNYWluJC5jbGFzc/7KAABQSwECFAAU
AAgICAAAAF1DhP6QKNIBAAAnAgAACgAAAAAAAAAAAAAAAABfAgAATWFpbi5jbGFzc1BLBQYAAAAA
AgACAHUAAABpBAAAAAA=
EOF_da72419155794e4d5c1d2905f303f30a
fi
if [ -e $HOME/.ttr/scala-jar-20737849c8da14143f686d38ede52bf8.jar ]; then
    touch $HOME/.ttr/scala-jar-20737849c8da14143f686d38ede52bf8.jar
else
    ln -s $HOME/.ttr/file-da72419155794e4d5c1d2905f303f30a $HOME/.ttr/scala-jar-20737849c8da14143f686d38ede52bf8.jar
fi

################################################################################
# test2.sh
mkdir -p $HOME/.ttr
if [ -e $HOME/.ttr/file-3b342f0b98e7666fc66286eb65b469e6 ]; then
    touch $HOME/.ttr/file-3b342f0b98e7666fc66286eb65b469e6
else
cat <<\EOF_3b342f0b98e7666fc66286eb65b469e6 > $HOME/.ttr/file-3b342f0b98e7666fc66286eb65b469e6
scala -cp $HOME/.ttr/scala-jar-20737849c8da14143f686d38ede52bf8.jar Main "World!" "$@"
EOF_3b342f0b98e7666fc66286eb65b469e6
fi
ln -f -s $HOME/.ttr/file-3b342f0b98e7666fc66286eb65b469e6 $WORKING_DIR/test2.sh

################################################################################
sh $WORKING_DIR/test.sh

sh $WORKING_DIR/test2.sh foo bar

################################################################################
)
RET=$?
rm -rf $WORKING_DIR 2>/dev/null
exit $RET
